
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Listening Quiz</title>
<div id="google_translate_element"></div>
<script type="text/javascript">
function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');}
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<style>
#ans1,#ans2,#ans3,#ans4,#ans5,#ans6{color:blue;text-align: center;}
.center {text-align: center}
h2 {text-align: center;}
.btn {background:green;color:yellow;height:40px;width:200px;margin:auto;display:block;}
.tieude {background:lightgreen;}
p {font-size: 14pt;}
.bdy {background:#f7e6cd;}
.f-grid {display: flex;justify-content: space-between;margin-left: 0rem;flex-flow: row wrap;}
.f-grid-col {flex: 3 0;background-color: rgba(184,245,114,0.883);margin-left: 1rem;margin-bottom: 1rem;padding: 1rem;font-size: 14pt;}
</style>
<script>var chtlroi='';var ndluu='';</script>
<style>
#fixNav{
  width: 100%;
  height: 120px;
background-color:green;
  color:yellow;
  display: block;
  box-shadow: 0px 2px 2px rgba(0,0,0,0.5); /*Đổ bóng cho menu*/
  position: fixed; /*Cho menu cố định 1 vị trí với top và left*/
  top: 0; /*Nằm trên cùng*/
  z-index: 100000; /*Hiển thị lớp trên cùng*/
}
#circlein {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    justify-content: center;
    box-shadow: 0px -2px 15px #E0FF94;
}
.para{
    text-align:center;
}
    
.obj {
    justify-content: center;
    height: 100%;
    margin-left: auto;
}
.mic-icon {
    height: 15px;
    position: absolute;
    margin: 18px;
}
.footer {
    background-color:green;
    color: #ffffff;
    text-align: center;
    font-size: 12px;
    padding: 15px;
}

</style>
</head>
<body class="bdy">
    <nav id="fixNav">
        <div class="words">
        <div class="obj">
            <div class="button" id="circlein">
                <svg class="mic-icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000"
                    enable-background="new 0 0 1000 1000" xml:space="preserve" style="fill:#1E2D70">
                    <g>
                        <path
                            d="M500,683.8c84.6,0,153.1-68.6,153.1-153.1V163.1C653.1,78.6,584.6,10,500,10c-84.6,0-153.1,68.6-153.1,153.1v367.5C346.9,615.2,415.4,683.8,500,683.8z M714.4,438.8v91.9C714.4,649,618.4,745,500,745c-118.4,0-214.4-96-214.4-214.4v-91.9h-61.3v91.9c0,141.9,107.2,258.7,245,273.9v124.2H346.9V990h306.3v-61.3H530.6V804.5c137.8-15.2,245-132.1,245-273.9v-91.9H714.4z" />
                    </g>
                </svg>
            </div>
        </div>
    </div>
    </nav>
<br><br><br><br>
<div class="tieude">

<hr>

<h2 id="cbai" onclick="say(cabai)"> Lesson 26: Look-alikes</h2>
<br>
</div>
<hr>
<div class="f-grid">
<div class="f-grid-col" id="p1" onclick="say(c1)"><span style="color:blue">Anna:</span> This article is so interesting. Pete, listen to this: “Somewhere in the world there is someone who looks just like you.”Pete: No one is this handsome.Anna: Oh Pete, there’s something between your teeth.(Pete tries to clean his teeth.)Pete: It is gone?Anna: No. No. It’s still there. There. You got it. But think of it: There could be two of us in the world!Pete: Two Annas?Pete: Actually, Anna, maybe your silly article is right. Yesterday at work, I met a woman who looks just like you.Anna: Really? Wait, are you making fun of me?Pete: Not this time.Pete: She’s tall and has curly hair. But even her face looks like yours. I think she’s a career consultant.Anna: I bet she has a lot of great advice. I can’t wait to meet her.Pete: Yes, you can. I met her and she is very difficult.Anna: Pete, she’s just new. We have to give her a chance. What’s her name?Pete: Evelyna or something like that. You can’t miss her. She always wears a hat.Penelope: So, Anna, have you met the new consultant yet?Anna: No. But I’ve already heard. We look alike, don’t we?Penelope: Yeah, but you don’t act alike. You’re much nicer than she is.Anna: Maybe she gets nervous at new jobs. Or maybe she’s shy. Let’s not judge, Penelope.Penelope: She’s not nervous or shy. She’s mean.Anna: You know, we should get to know her better. Let’s invite her to lunch!Penelope: Sorry but I’m busy that day.(Penelope walks away. Anna yells after her.)Anna: Oh, that’s too bad. Hey, I haven’t picked a day yet!(Anna and Pete are playing a game.)Anna: This is going to be so much fun. Boy, I can’t wait to play this game.Evilana: How much longer are you going to be?Anna: We’ll be just a minute …(Anna turns around and sees her look-alike.)Anna: You must be Evelana. I’m Anna. We are look-alikes!Evilana: No, we’re not. And my name is pronounced “Evil-ana.”Pete: Oh. This is going to be fun.Evilana: You had better hurry up. I need this room for a lecture. It’s called: “If You Want to Win, Others Must Lose.” What is all this stuff, anyway?Anna: It’s a game. We’re going to play at lunch.Evilana: It’s a stupid child’s game!Anna: It’s a fun game. But yes, it is for children.Evilana: Well, you may be childish but I’m not. And you look stupid with that thing on your head.Anna: Well, you look serious with that look on your face. Come on, Pete. Let’s play somewhere else.Pete: Actually, I’m going to stay for Evilana’s lecture.Anna: Fine. You can learn new ways to beat people.Evilana: He will. He will.(Days later, Anna and Penelope are playing the game. Pete comes in. He has a problem with his eye.)Anna: Okay. Am I a food?Penelope: Nope.Pete: Hey, do you guys have room for one more?Penelope: Sure, Pete! Come on over. What happened to your eye?Pete: Evilana “accidentally” hit me. And she didn’t even say sorry. She’s so mean!Penelope: I told you so.Anna: Here, Pete. Put on this headband. You’ll feel better. Penelope, you’re right. Evilana is an awful person!Penelope: And violent. And now we have to work with her!Anna: Haven’t you heard? She’s gone! She was given another assignment.Penelope: What assignment?Anna: I’m not sure. I think it has something to do with outdoors. Anyway, let’s play! Pete it’s your turn.</div>
<div class="f-grid-col" id="p1" onclick="say(c1)"></div>
</div>
<script>
var cabai=document.getElementById("cbai").innerHTML;
var c1=document.getElementById("p1").innerHTML;
cabai=cabai+". "+c1;
cabai=cabai.replaceAll('</strong>','');
cabai=cabai.replaceAll('<strong>','');
cabai=cabai.replaceAll('</span>','');
cabai=cabai.replaceAll('<span style="color:blue">','');
cabai=cabai.replaceAll('<span style="color:red">','');
cabai=cabai.replaceAll("<em>","");
cabai=cabai.replaceAll("</em>","");
cabai=cabai.replaceAll("<u>","");
cabai=cabai.replaceAll("</u>","");
cabai=cabai.replaceAll('<span style="color:#0070C0"','');
cabai=cabai.replaceAll('<span lang="EN" style="color:#0070C0"','');
</script>

<script>
function say(message){
    
message=message.replaceAll('<span style="color:blue">', '');
message=message.replaceAll('<span style="color:red">', '');
message=message.replaceAll('</span>', '');
message=message.replaceAll('</strong>','');
message=message.replaceAll('<strong>','');

message=message.replaceAll("<em>","");
message=message.replaceAll("</em>","");
message=message.replaceAll("<u>","");
message=message.replaceAll("</u>","");
message=message.replaceAll('<span style="color:#0070C0"','');
message=message.replaceAll('<span lang="EN" style="color:#0070C0"','');


message=message.slice(message.indexOf(":")+1, -1);
ndluu=message;  
let speech = new SpeechSynthesisUtterance(message);
speech.lang = "en";
window.speechSynthesis.speak(speech);}
</script>              

<script>
        window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        const recognition = new SpeechRecognition();
        recognition.interimResults = true;
        let p = document.createElement("p");
        p.classList.add("para");
        p.addEventListener("click", function() {
            danhgiacau(document.querySelector(".para").innerHTML);
        });
        let words = document.querySelector(".words");
        words.appendChild(p);
        let mic = document.querySelector("#circlein");
        let speechToText = "";
        recognition.addEventListener("result", e => {
            let interimTranscript = '';
            for (let i = e.resultIndex, len = e.results.length; i < len; i++) {
                let transcript = e.results[i][0].transcript;
                console.log(transcript);
                if (e.results[i].isFinal) {
                    //speechToText += transcript+'   ';
                    speechToText = transcript;
                
                } else {
                    //interimTranscript += transcript+'   ';
                    //interimTranscript = transcript+'   ';
                }
            }
            recognition.addEventListener('soundend', () => {
                mic.style.backgroundColor = null;
                }
            );
            document.querySelector(".para").innerHTML = speechToText + interimTranscript;
        })
        mic.addEventListener("click", () => {
            //document.querySelector(".para").innerHTML='';
            recognition.start();
            mic.style.backgroundColor = "#6BD6E1";
        })
        </script>
<script>
          function danhgiacau(ndcau){
            //ndluu=ndluu.replace('</strong>','');
            //ndluu=ndluu.replace('<strong>','').trim();
            ndluu=ndluu.toLowerCase();

            ndcau=ndcau.replaceAll('.','');
            ndcau=ndcau.replaceAll(',','');
            ndcau=ndcau.replaceAll(';','');
            ndcau=ndcau.replaceAll('!','');
            ndcau=ndcau.replaceAll(':','');
            ndcau=ndcau.replaceAll('-','');
            ndcau=ndcau.replaceAll('?','');
            ndcau=ndcau.toLowerCase();
            const lndluu=ndluu.split(" ");
            const lndcau=ndcau.split(" ");
            
            var tsdmax=lndluu.length;
            var tstcau=lndcau.length;

            var tsd=0;
            var ch='';
            for (let j = 0; j < tstcau; j++)
            {   ch=lndcau[j].trim();
                if (ndluu.indexOf(ch)>=0){
                    tsd++;
                    ndluu.replace(ch,'');
                }
            }
                alert('Câu bạn vừa nói so với câu máy đọc đạt tỉ lệ : '+Math.round((100*tsd/tsdmax))+'%'); 
        }
</script>
<br><br><br>
<div class="footer">
  <p>Website này do vantiensg2002@yahoo.com soạn chỉ để học tiếng Anh theo voatiengviet.com.</p>
</div>

</body>
</html>
