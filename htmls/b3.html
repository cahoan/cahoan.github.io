<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let's Learn English</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript">var sl=1; var ndluu="";</script>
</head>
<body>

<div class="navbar"><br><br>
    <div id="google_translate_element" ></div>
    <script type="text/javascript">
        function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');}
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <h2 id="cbai" onclick="saycb()"><span style="color:yellow"> Lesson 3: He Said - She Said</span></h2>
    <p ><span style="color:pink">(Repeat :   
        <input type="radio" id="mot" onclick=" checkButton()" name="slan" value="1" checked>1   
        <input type="radio" id="ba" onclick=" checkButton()" name="slan" value="3">3   
        <input type="radio" id="nam" onclick=" checkButton()" name="slan" value="5">5)</span>
    </p>
    <a class="textnoi">
        <div class="words">
            <div class="obj">
                <div class="button" id="circlein">
                    <svg class="mic-icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000"
                        enable-background="new 0 0 1000 1000" xml:space="preserve" style="fill:#1E2D70">
                        <g>
                            <path d="M500,683.8c84.6,0,153.1-68.6,153.1-153.1V163.1C653.1,78.6,584.6,10,500,10c-84.6,0-153.1,68.6-153.1,153.1v367.5C346.9,615.2,415.4,683.8,500,683.8z M714.4,438.8v91.9C714.4,649,618.4,745,500,745c-118.4,0-214.4-96-214.4-214.4v-91.9h-61.3v91.9c0,141.9,107.2,258.7,245,273.9v124.2H346.9V990h306.3v-61.3H530.6V804.5c137.8-15.2,245-132.1,245-273.9v-91.9H714.4z" />
                        </g>
                    </svg>
                </div>
            </div>
        </div>
    </a>
</div>

<br><br><br><br><br><br><br><br><br><br><br>
<div class="main">
    <br>  
    <script type="text/javascript"> 
        function checkButton() {    
            if(document.getElementById('mot').checked) {   
                sl=1;   
            }   
            if(document.getElementById('ba').checked) {   
                sl=3;   
            }   
            if(document.getElementById('nam').checked) {   
                sl=5;   
            }
        }       
    </script>   
    <br>
    <hr>
    <div class="f-grid">
        <div class="f-grid-col" id="p1" onclick="layid(this.id)"><span style="color:blue">Anna:</span> Today, Pete and I are meeting with a <strong>consultant</strong> who will help us with our new show. Yesterday, Pete had <strong>promised</strong> to meet me here at 8:00 am. but he did not come on time.</div>
        <div class="f-grid-col" id="p2" onclick="layid(this.id)"><span style="color:red">Prof Bot:</span> Uh-oh. It’s bad to be late for a business meeting. But while we wait for Pete, let’s talk about a new verb tense -- past perfect! You know the past tense, right? Like, &quot;Pete promised to meet me here at 8:00 a.m.&quot; Past perfect is a little different. When we talk about <em>two</em> things in the past, we can use the past perfect for the first event. Put &quot;had&quot; before the past participle. &quot;Pete <em>had</em> promised he would meet Anna.&quot; Here's your assignment: find sentences with the past perfect tense. Remember, look for &quot;had!&quot;</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p3" onclick="layid(this.id)"><span style="color:blue">Kelly:</span> You two are late -- <strong>exactly </strong>43 minutes late! What happened?</div>
        <div class="f-grid-col" id="p4" onclick="layid(this.id)"><span style="color:red">Anna:</span> He had to get his &quot;special&quot; coffee -- SPECIAL coffee!</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p5" onclick="layid(this.id)"><span style="color:blue">Pete:</span> She had to feed her birds -- HER birds!</div>
        <div class="f-grid-col" id="p6" onclick="layid(this.id)"><span style="color:red">Kelly:</span> Okay, I can see already that you need my help. You can’t both talk at the same time. You have to take turns. Alright, Anna, you go first.</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p7" onclick="layid(this.id)"><span style="color:blue">Anna:</span> Sure. Kelly, see, Pete and I live in the same building. So, we decided to meet at 8:00 a.m. - 8:00 a.m. to come to work together. I had waited 15 minutes when Pete arrived!</div>
        <div class="f-grid-col" id="p8" onclick="layid(this.id)"><span style="color:red">Anna:</span> After Pete had <strong>wasted</strong> time waiting for coffee, we were late. I left you a message.*</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p9" onclick="layid(this.id)"><span style="color:blue">Kelly:</span> Hum. I didn’t get that message.</div>
        <div class="f-grid-col" id="p10" onclick="layid(this.id)"><span style="color:red">Anna:</span> Oh. Sorry.</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p11" onclick="layid(this.id)"><span style="color:blue">Kelly:</span> Pete?</div>
        <div class="f-grid-col" id="p12" onclick="layid(this.id)"><span style="color:red">Prof. Bot:</span> Anna left a message. That’s the right thing to do. Did you find some examples of the past perfect sentences? I did. Anna said,</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p13" onclick="layid(this.id)"><span style="color:blue">Anna:</span> &quot;After Pete had wasted time waiting for coffee, we were late.</div>
        <div class="f-grid-col" id="p14" onclick="layid(this.id)"><span style="color:red">Pete:</span> Yeah, that’s not why we’re late. This is why we’re late: I had arrived on time at 8:00 a.m. but didn’t see Anna. She was standing behind a tree. I think she was <strong>hugging</strong> it. I always walk to work. But she said that would take too long and that a <strong>scooter</strong> would be much faster. It was awful. I hated it. And it added too much time to our <strong>commute</strong>!</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p15" onclick="layid(this.id)"><span style="color:blue">Kelly:</span> This is what I think. You two see the same <strong>event</strong> very differently. Does this happen often with you two?</div>
        <div class="f-grid-col" id="p16" onclick="layid(this.id)"><span style="color:red">Pete:</span> Yes.</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p17" onclick="layid(this.id)"><span style="color:blue">Anna:</span> No.</div>
        <div class="f-grid-col" id="p18" onclick="layid(this.id)"><span style="color:red">Pete:</span> No.</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p19" onclick="layid(this.id)"><span style="color:blue">Anna:</span> Yes.</div>
        <div class="f-grid-col" id="p20" onclick="layid(this.id)"><span style="color:red">Kelly:</span> Okay. This is good. This is good! It’s good to see things differently. I have an idea: we will call the show &quot;He Said, She Said.&quot; For every story, you tell a different <strong>point of view</strong>.</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p21" onclick="layid(this.id)"><span style="color:blue">Anna:</span> That is a great idea, Kelly! Pete, we <em>are</em> different. That’s why I thought of you for this job!</div>
        <div class="f-grid-col" id="p22" onclick="layid(this.id)"><span style="color:red">Kelly:</span> I think you two understand perfectly.</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p23" onclick="layid(this.id)"><span style="color:blue">Anna:</span> Let’s get to work!</div>
        <div class="f-grid-col" id="p24" onclick="layid(this.id)"><span style="color:red">Kelly:</span> She named the birds? Really?</div>
        </div>
        <div class="f-grid">
        <div class="f-grid-col" id="p25" onclick="layid(this.id)"><span style="color:blue">Pete:</span> Yeah…</div>
        <div class="f-grid-col" id="p26" onclick="layid(this.id)"><span style="color:red"></span></div>
    </div>

<script type="text/javascript">
    function layid(tenidl){
        var message=document.getElementById(tenidl).innerHTML;
        for (let i = 1; i <= sl; i++) {
            if (message.indexOf('<span style="color:blue">')){giongnoi='en-GB';} else {giongnoi='en';}
                say(message, giongnoi);
        }
    }
</script>

<script type="text/javascript">
    function saycb(){
        for (let j = 1; j <= sl; j++) {
        for (let i = 1; i <=26; i++) {
            var tenid='p'+i.toString();
            var message=document.getElementById(tenid).innerHTML;
            if (message.indexOf('<span style="color:blue">')){giongnoi='en-GB';} else {giongnoi='en';}
                say(message,giongnoi);
        }
        }
    }
</script>

<script type="text/javascript">
    function say(message,giongnoi){
        message=message.replaceAll('<span style="color:blue">', '');
        message=message.replaceAll('<span style="color:red">', '');
        message=message.replaceAll('</span>', '');
        message=message.replaceAll('</strong>','');
        message=message.replaceAll('<strong>','');
        message=message.replaceAll("<em>","");
        message=message.replaceAll("</em>","");
        message=message.replaceAll("<u>","");
        message=message.replaceAll("</u>","");
        message=message.replaceAll('<span style="color:#0070C0"','');
        message=message.replaceAll('<span lang="EN" style="color:#0070C0"','');
        message=message.slice(message.indexOf(":")+1, -1);
        let speech = new SpeechSynthesisUtterance(message);
        speech.lang = giongnoi;
        window.speechSynthesis.speak(speech);
    }
</script>              

<script type="text/javascript">
    window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.interimResults = true;
    let p = document.createElement("p");
    p.classList.add("para");
    p.addEventListener("click", function() {
        danhgiacau(document.querySelector(".para").innerHTML);
    });
    let words = document.querySelector(".words");
    words.appendChild(p);
    let mic = document.querySelector("#circlein");
    let speechToText = "";
    recognition.addEventListener("result", e => {
        let interimTranscript = '';
        for (let i = e.resultIndex, len = e.results.length; i < len; i++) {
            let transcript = e.results[i][0].transcript;
            console.log(transcript);
            if (e.results[i].isFinal) {
                speechToText = transcript;
            } else {
                //interimTranscript += transcript+'   ';
                //interimTranscript = transcript+'   ';
            }
        }
        recognition.addEventListener('soundend', () => {
            mic.style.backgroundColor = null;
            }
        );
        document.querySelector(".para").innerHTML = speechToText + interimTranscript;
    })
    mic.addEventListener("click", () => {
        recognition.start();
        mic.style.backgroundColor = "#6BD6E1";
    })
</script>

<script type="text/javascript">
    function danhgiacau(ndcau){
        ndcau=ndcau.toLowerCase();
        ndcau=ndcau.replaceAll('.','');
        ndcau=ndcau.replaceAll(',','');
        ndcau=ndcau.replaceAll(';','');
        ndcau=ndcau.replaceAll('!','');
        ndcau=ndcau.replaceAll(':','');
        ndcau=ndcau.replaceAll('-','');
        ndcau=ndcau.replaceAll('?','');
        var tbao='Sorry!' ;
        if (ndluu.indexOf(ndcau)>=0){tbao='Good!'}   
            alert(tbao); 
        }
</script>
<br><br><br>
</div>
<div class="footer">
    <p>Website này do vantiensg2002@yahoo.com soạn chỉ để học tiếng Anh theo voatiengviet.com.</p>
</div>

</body>
</html>
